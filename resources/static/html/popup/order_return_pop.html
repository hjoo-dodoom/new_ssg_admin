<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=1400"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>신세계 관리자</title>
    <!-- CSS files -->
    <link href="/resources/static/dist/css/tabler.css" rel="stylesheet"/>
    <link href="/resources/static/dist/css/tabler-vendors.css" rel="stylesheet"/>
    <link href="/resources/static/dist/css/style.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/spectrum-colorpicker2/dist/spectrum.min.css"/>
    <link rel="shortcut icon" href="/resources/static/dist/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/resources/static/dist/favicon.ico" type="image/x-icon">
    <script src="/resources/static/dist/js/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="/resources/static/dist/libs/litepicker/dist/litepicker.js?1674944402"></script>
    <script src="/resources/static/dist/js/jquery.validate.js"></script>
    <!-- Tabler Core -->
    
    <script src="/resources/static/dist/js/common.js"></script>
    <style>
    :root {
        --theme-admin-type: #cf3f42;
        /* #cf3f42 통합관리자 컬러 코드*/
        /* #4b9b52 협력회사 컬러 코드 */
        /* #214c9c 고객사 컬러 코드 */
    }
    </style>
</head>
<body>

<div class="popup-wrapper">
    <h2 class="popup-title">반품관리</h2>
    <form action="">
    <div class="row">
        <div class="content-area">
            <div class="card table-mb-card">
                <div class="table-responsive">
                    <table class="table table-vcenter table-line card-table label-control text-center table-mb">
                        <colgroup>
                            <col style="width:160px;">
                            <col style="width:80px;">
                            <col>
                            <col style="width:80px;">
                            <col style="width:45px;">
                            <col style="width:80px;">
                            <col style="width:70px;">
                        </colgroup>
                        <thead class="dark">
                            <tr>
                                <th>주문번호</th>
                                <th>상품별<br/>주문번호</th>
                                <th>상품명</th>
                                <th>옵션</th>
                                <th>수량</th>
                                <th>주문상태</th>
                                <th>반품/교환<br/>상태</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>O000000002800871-01</td>
                                <td>3201150</td>
                                <td class="text-start">
                                    <a href="javascript:;" class="link">P0000001234</a>
                                    <br/>
                                    <a href="javascript:;" class="link">[테팔] 팬&냄비 PTFE IH 뉴 셰프터치 2종세트 (프라이팬 20cm + 28cm)</a>
                                </td>
                                <td>블랙/S</td>
                                <td>2</td>
                                <td>주문취소</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="form-container grid_grid2">
            <div class="card form_area">
                <div class="card-header"><h3 class="card-title">반품상태</h3></div>
                <div class="card-body">
                    <div class="row">
                        <div class="form_item size_xl">
                            <div class="card">
                                <div class="card-header">
                                    <ul class="nav nav-tabs card-header-tabs" data-bs-toggle="tabs" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <a href="#tap1" class="nav-link active" data-bs-toggle="tab" aria-selected="true" role="tab" tabindex="-1">01. 반품신청</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a href="#tap2" class="nav-link" data-bs-toggle="tab" aria-selected="false" role="tab" tabindex="-1">02. 반품진행</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="card-body">
                                    <div class="tab-content">
                                        <!-- 반품신청 -->
                                        <div class="tab-pane active show" id="tap1" role="tabpanel">
                                            <small class="form-hint">
                                                ! 반품신청은 고객 및 통합관리자만 신청이 가능하며, 반품진행 단계 전까지 반품철회가 가능합니다.<br/>
                                                ! 결제수단이 “가상계좌＂인 경우 환불계좌 입력 후 반품신청이 가능합니다. 단, 예금주명은 변경이 불가합니다.<br/>
                                                ! 반품완료 후 주문취소처리를 하셔야 환불완료 처리됩니다. 환불은 주문취소 후 익일 입금 처리됩니다.
                                            </small>
                                            <div class="row m-0 mt-2">
                                                <div class="form_item">
                                                    <div class="subheader mb-1 required">상태</div>
                                                    <div class="subcontent">
                                                        <div class="input-group">
                                                            <select name="" id="" class="form-select">
                                                                <option value="">반품신청</option>
                                                                <option value="">반품철회</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form_item">
                                                    <div class="subheader mb-1 required">사유</div>
                                                    <div class="subcontent">
                                                        <div class="input-group">
                                                            <select name="" id="" class="form-select select-display">
                                                                <option value="" selected>상품이 마음에 들지 않아요</option>
                                                                <option value="">다른상품이랑 같이 주문할게요</option>
                                                                <option value="">사이즈/색상 변경 후 다시 주문할게요</option>
                                                                <option value="">어머! 최저가 상품이 아니에요</option>
                                                                <!-- <option value="직접입력" select-display="return_reason_input">직접입력</option> -->
                                                            </select>
                                                        </div>
                                                        <div class="input-group return_reason_input" style="display: none;"><!-- 직접입력 -->
                                                            <input type="text" class="form-control" placeholder="사유를 직접입력해주세요.">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form_item size_xl">
                                                    <div class="subheader mb-1">제품사진</div>
                                                    <div class="subcontent">
                                                        <div class="input-group">
                                                            <label class="btn btn-sm btn-secondary">
                                                                <input type="file" onchange="FileUploader.handleFileUpload(event, 'returnStatus')" max-size="10" max-count="3" class="hidden_input">
                                                                제품사진 첨부하기
                                                            </label>
                                                            <span class="input-group-text"><span class="count multiple_count">0</span>개(<span class="size multiple_size">0MB</span>)</span>
                                                        </div>
                                                        <div class="file_photo_view multiple_preview">
                                                            <!-- <div class="item">
                                                                <div class="thum"><img src="../../assets/images/card_kb.jpg"/></div>
                                                                <button type="button" class="remove_btn">파일삭제</button>
                                                            </div> -->
                                                        </div>
                                                        <small class="form-hint">! 제품사진은 최대 3개까지 jpg(jpeg),png 파일만 등록 하실 수 있습니다.</small>
                                                    </div>
                                                </div>

                                                <!-- 결제수단이 가상계좌인 경우만 환불계좌, 예금주명 -->
                                                <div class="form_item">
                                                    <div class="subheader mb-1 required">환불계좌</div>
                                                    <div class="subcontent">
                                                        <div class="input-group">
                                                            <select name="" id="" class="form-select" style="max-width:35%;">
                                                                <option value="">은행선택</option>
                                                            </select>
                                                            <input type="tel" class="form-control" placeholder="-없이 숫자만 입력해주세요.">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form_item">
                                                    <div class="subheader mb-1">예금주명</div>
                                                    <div class="subcontent">
                                                        <div class="input-group">
                                                            <input type="text" class="form-control" value="홍길동" disabled>
                                                        </div>
                                                        <small class="form-hint">! 예금주명은 수정하실 수 없습니다.</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="list-btns justify-content-between mt-3">
                                                <div>
                                                    <!-- <button type="button" class="btn btn-primary">반품취소</button> -->
                                                </div>
                                                <div>
                                                    <button type="button" class="btn btn-primary">저장</button>
                                                    <button type="button" class="btn btn-secondary" onclick="window.close();">닫기</button>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- //반품신청 -->
                                        <!-- 반품진행 -->
                                        <div class="tab-pane" id="tap2" role="tabpanel">
                                            <small class="form-hint">
                                                ! 반품진행 시 협력회사에서 고객에게 직접 연락하여 반품주소 및 배송비 등 을 협의해주세요.<br/>
                                                ! 협력회사 반품불가 또는 반품거부에 대한 최종결정은 신세계담당자가 진행합니다.<br/>
                                                ! 신세계담당자가 반품불가 또는 반품거부 확정 시 고객에게 최종 안내됩니다.
                                            </small>
                                            <div class="row m-0 mt-2">
                                                <div class="form_item size_xl">
                                                    <div class="subheader mb-1 required">상태</div>
                                                    <div class="subcontent">
                                                        <div class="input-group">
                                                            <select name="" id="" class="form-select">
                                                                <option value="">선택</option>
                                                                <option value="">반품진행</option>
                                                                <option value="">반품불가</option>
                                                                <!-- 반품거부, 반품완료: 반품진행 선택 후 저장버튼 클릭 시 노출 -->
                                                                <option value="">반품거부</option>
                                                                <option value="">반품완료</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form_item size_xl">
                                                    <div class="subheader mb-1 required">사유</div>
                                                    <div class="subcontent">
                                                        <div class="input-group return_reason_input"><!-- 직접입력 -->
                                                            <textarea class="form-control max-text" placeholder="반품불가 또는 반품거부 시 사유를 입력해주세요."  maxlength="50" name=""></textarea>
                                                            <span class="input-group-text text max-len"><b>0</b> / 50</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="list-btns justify-content-between mt-3">
                                                <div>
                                                    <!-- 반품불가확정, 반품거부확정 버튼: 통합관리자만 노출 -->
                                                    <button type="button" class="btn btn-primary">반품불가확정</button>
                                                    <button type="button" class="btn btn-primary">반품거부확정</button>
                                                </div>
                                                <div>
                                                    <button type="button" class="btn btn-primary">저장</button>
                                                    <button type="button" class="btn btn-secondary" onclick="window.close();">닫기</button>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- //반품진행 -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="expected_refund" class="form-container">
            <div class="card form_area">
                <div class="card-header"><h3 class="card-title">환불예정금액</h3></div>
                <div class="card-body">
                    <div class="row">
                        <div class="form_item">
                            <div class="subheader mb-1">취소 주문금액</div>
                            <div class="subcontent">
                                <div class="input-group">
                                    <input type="tel" class="form-control" data-amount-comma="" value="75000" readonly="">
                                    <span class="input-group-text text w-25">원</span>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="form_item bg-danger-lt">
                            <div class="subheader mb-1">포인트</div>
                            <div class="subcontent">
                                <div class="input-group">
                                    <strong class="input-group-text text bg-danger-lt w-25">-</strong>
                                    <input type="tel" class="form-control" data-amount-comma="" value="10000" readonly="">
                                    <span class="input-group-text text w-25">원</span>
                                </div>
                            </div>
                        </div>
                        <div class="form_item bg-danger-lt">
                            <div class="subheader mb-1">마일리지</div>
                            <div class="subcontent">
                                <div class="input-group">
                                    <strong class="input-group-text text bg-danger-lt w-25">-</strong>
                                    <input type="tel" class="form-control" data-amount-comma="" value="10000" readonly="">
                                    <span class="input-group-text text w-25">원</span>
                                </div>
                            </div>
                        </div> -->
                        <div class="form_item bg-info-lt">
                            <div class="subheader mb-1">취소 시 부과 배송비</div>
                            <div class="subcontent">
                                <div class="input-group">
                                    <strong class="input-group-text text bg-info-lt w-25">+</strong>
                                    <input type="tel" class="form-control" data-amount-comma="" value="185000">
                                    <span class="input-group-text text w-25">원</span>
                                </div>
                            </div>
                        </div>
                        <div class="form_item bg-primary-lt">
                            <div class="subheader mb-1">환불 예정금액</div>
                            <div class="subcontent">
                                <div class="input-group">
                                    <input type="tel" class="form-control" data-amount-comma="" value="185000">
                                    <span class="input-group-text text w-25">원</span>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="form_item">
                            <div class="subheader mb-1">반환되는 쿠폰</div>
                            <div class="subcontent">
                                <div class="input-group">
                                    <input type="text" class="form-control" value="쿠폰명이 표기됩니다." readonly>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="content-area">
            <div class="card form_area">
                <div class="card-header"><h3 class="card-title">이력관리</h3></div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-vcenter table-line card-table text-center table-mb tr_hover">
                            <thead class="dark">
                                <tr>
                                    <th>번호</th>
                                    <th>상태</th>
                                    <th>사유</th>
                                    <th>처리자</th>
                                    <th>거래일(처리일)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>반품신청</td>
                                    <td class="text-start">사이즈 교환 요청</td>
                                    <td>user_id</td>
                                    <td>2024-09-26 11:11:11</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </form>
</div>
<script src="/resources/static/dist/js/tabler.min.js"></script>


<script>
FileUploader.initPhotoCollection('returnStatus');
FileUploader.initPhotoCollection('returnRefusal');
const returnStatus = FileUploader.getPhotoCollection('returnStatus');
const returnRefusal = FileUploader.getPhotoCollection('returnRefusal');


console.log(returnStatus);//반품신청 취소 담긴파일 확인
console.log(returnRefusal);//반품거부완료 취소 담긴파일 확인

const tabs = document.querySelectorAll('.form-container .nav-item a');
const expected_refund = document.getElementById('expected_refund');
tabs.forEach(function(tab, idx){

    tab.addEventListener('click', function() {
        if(idx == 1){ // 02. 반품진행
            expected_refund.classList.add('d-none');
        }else{
            expected_refund.classList.remove('d-none');
        }
    });
   
});
</script>
</body>
</html>